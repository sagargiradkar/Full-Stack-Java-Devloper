
### Statment(I)=>Executing the query (query should be written by the java devloper )
### PreparedStatment(I)=>Exceuting the query(query should be written by the java devloper)

In programming if any code is repeateadly required , we can defined the code inside the method and we can call that method multiple times based on our requirement .
hence forth methods are best reusable component in programming.

Similirly in Database Programming , if any group of sql statments is repeatedly required then we defined those sql statment in a single group and we call that group repeatedly based on oure requirement.

    This group of sql statments that perform a particular task is nothing but "Stored Procedure".
    StoredProcedure is the best reusable component at database level.

StoredProcedure 
    It refers to group of sql statments that perform particular task.

These stored procedures are stored permanently inside database for furthure usage and hence the name "Stored Procedure".
Usually StoredProcedure are created by databaseAdmin(DBA)

Every Database has its own language to create StoredProcedure
    a.Oracle -> PL/SQL
    b.MySQL -> Stored Procedure Language
    c.MicrosoftSQLServer ->Transact SQL(TSQL)

Similar to method stored procedure has its own parameters.
Stored Procedure has 3 Parameters 
    a.IN parameter(to provide input vales)
    b.OUT parameters (to provide output variable)
    c.INOUT parameters (to provide and to collect output)
 

String sqlQuery = "Select pid,pname,price,qty,from product where pid = ?";

StoedProcedure Example 
=======================
DELIMITER $$

CREATE

    PROCEDURE `ineuron`.`P_GET_PRODUCT_DETAILS_BY_ID`(IN id INT,OUT NAME VARCHAR(20),OUT rate INT,OUT qut INT )
    
	BEGIN
        select pname,price,qty into name,rate,qnt from product where pid = id;
	END$$

DELIMITER ;

### SQL Statement vs. PreparedStatement in Java

In Java, there are two primary ways to execute SQL queries: using `Statement` and `PreparedStatement`.

#### Statement

A `Statement` is used to execute a static SQL query that doesn't accept parameters. The SQL query is written by the Java developer and is executed directly.

**Example:**

```java
Statement stmt = connection.createStatement();
String sql = "SELECT pid, pname, price, qty FROM product WHERE pid = 1";
ResultSet rs = stmt.executeQuery(sql);
```

**Key Characteristics:**

1. **Simple to Use**: Easy to execute static queries.
2. **Vulnerable to SQL Injection**: Since the query is constructed using string concatenation, it is prone to SQL injection attacks.
3. **Performance**: The query is parsed and compiled each time it is executed, which can impact performance for repeated executions.

#### PreparedStatement

A `PreparedStatement` is used to execute parameterized SQL queries. It is more secure and efficient compared to `Statement`.

**Example:**

```java
String sql = "SELECT pid, pname, price, qty FROM product WHERE pid = ?";
PreparedStatement pstmt = connection.prepareStatement(sql);
pstmt.setInt(1, 1);
ResultSet rs = pstmt.executeQuery();
```

**Key Characteristics:**

1. **Parameterized Queries**: Supports parameters, making it safer against SQL injection.
2. **Precompiled**: The SQL statement is precompiled, which can improve performance for repeated executions.
3. **Flexibility**: Allows setting parameters dynamically, making it more flexible for complex queries.

### Methods in Programming

In programming, methods are blocks of code designed to perform specific tasks. They enhance code reusability and maintainability.

**Example:**

```java
public int add(int a, int b) {
    return a + b;
}
```

**Key Characteristics:**

1. **Code Reusability**: Methods can be called multiple times within a program, reducing code duplication.
2. **Modularity**: Methods break down complex problems into smaller, manageable units.
3. **Maintainability**: Easier to debug and update the code.

### Stored Procedures in Databases

A stored procedure is a group of SQL statements that perform a specific task and are stored permanently in a database. They are similar to methods in programming, providing reusability and efficiency in database operations.

**Definition:**

A stored procedure is a set of SQL statements stored in the database, which can be executed by calling it by name.

**Advantages:**

1. **Reusability**: Similar to methods, stored procedures can be called multiple times, reducing redundancy.
2. **Performance**: Stored procedures are precompiled, which can improve execution speed.
3. **Security**: They provide an additional layer of security by abstracting the underlying SQL code.
4. **Maintainability**: Easier to manage and update SQL code as it is centralized.

**Example:**

```sql
DELIMITER $$

CREATE PROCEDURE `ineuron`.`P_GET_PRODUCT_DETAILS_BY_ID`(
    IN id INT, 
    OUT NAME VARCHAR(20), 
    OUT rate INT, 
    OUT qnt INT)
BEGIN
    SELECT pname, price, qty INTO NAME, rate, qnt 
    FROM product 
    WHERE pid = id;
END$$

DELIMITER ;
```

### Characteristics of Stored Procedures

1. **Permanently Stored**: Stored procedures are stored in the database and can be reused multiple times.
2. **Created by DBA**: Typically created by Database Administrators (DBAs) to perform repetitive tasks efficiently.
3. **Database-Specific Languages**: Different databases have their own languages for creating stored procedures:
    - Oracle: PL/SQL
    - MySQL: Stored Procedure Language
    - Microsoft SQL Server: Transact-SQL (T-SQL)

### Parameters in Stored Procedures

Stored procedures can accept parameters to make them dynamic and flexible. There are three types of parameters:

1. **IN Parameters**: Used to pass input values to the stored procedure.
2. **OUT Parameters**: Used to return output values from the stored procedure.
3. **INOUT Parameters**: Used to pass input values and also return output values.

**Example with Parameters:**

```sql
DELIMITER $$

CREATE PROCEDURE `ineuron`.`P_GET_PRODUCT_DETAILS_BY_ID`(
    IN id INT, 
    OUT NAME VARCHAR(20), 
    OUT rate INT, 
    OUT qnt INT)
BEGIN
    SELECT pname, price, qty INTO NAME, rate, qnt 
    FROM product 
    WHERE pid = id;
END$$

DELIMITER ;
```

In this example, the stored procedure `P_GET_PRODUCT_DETAILS_BY_ID` accepts an `id` as an input parameter and returns the product name, price, and quantity as output parameters.

### Conclusion

Understanding the use of `Statement` and `PreparedStatement` in Java helps in writing efficient and secure SQL queries. Methods in programming enhance code reusability and maintainability. Similarly, stored procedures in databases provide a reusable, efficient way to manage and execute repetitive SQL tasks, enhancing performance and security. By utilizing these concepts, developers can write more robust and maintainable code, both in application programming and database management.